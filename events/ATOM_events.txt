add_namespace = ATOM

#setting up of the initial budget
country_event = {
	id = ATOM.1
	title = ATOM.1.t
	desc = ATOM.1.desc
	
	is_triggered_only = yes
	hidden = yes

	immediate = {
		every_country = {
            #country_event = { id = newyears.1 days = 359 }
        }
		FRA = {
			set_variable = {
				var = budget
				value = 146
			}
		}
		GER = {
			set_variable = {
				var = budget
				value = 246
			}
		}
	}

}

#daily budget growth
country_event = {
	id = ATOM.2
	title = ATOM.2.t
	desc = ATOM.2.desc

	is_triggered_only = yes
	hidden = yes

	trigger = {
		#might add a trigger for the first year of growth ? So second year of growth is different ?
		#best to do a monthly thing
	}

	immediate = {
		if = {
			limit = { 
				tag = ENG
				has_idea = civilian_economy
			}
			add_to_variable = {
				var = budget
				value = 234
			}
		}
		if = {
			limit = { 
				tag = ENG
				has_idea = partial_economic_mobilisation
			}
			add_to_variable = {
				var = budget
				value = 351
			}
		}
		if = {
			limit = { 
				tag = ENG
				has_idea = war_economy
			}
			add_to_variable = {
				var = budget
				value = 390
			}
		}
		if = {
			limit = { 
				tag = ENG
				has_idea = tot_economic_mobilisation
			}
			add_to_variable = {
				var = budget
				value = 584
			}
		}
		if = {
			limit = { 
				tag = FRA
				has_idea = civilian_economy
			}
			add_to_variable = {
				var = budget
				value = 147
			}
		}
		if = {
			limit = { 
				tag = FRA
				has_idea = partial_economic_mobilisation
			}
			add_to_variable = {
				var = budget
				value = 220
			}
		}
		if = {
			limit = { 
				tag = FRA
				has_idea = war_economy
			}
			add_to_variable = {
				var = budget
				value = 244
			}
		}
		if = {
			limit = { 
				tag = FRA
				has_idea = tot_economic_mobilisation
			}
			add_to_variable = {
				var = budget
				value = 366
			}
		}

		if = {
			limit = { 
				tag = GER
				has_idea = civilian_economy
			}
			add_to_variable = {
				var = budget
				value = 247
			}
		}
		if = {
			limit = { 
				tag = GER
				has_idea = partial_economic_mobilisation
			}
			add_to_variable = {
				var = budget
				value = 370
			}
		}
		if = {
			limit = { 
				tag = GER
				has_idea = war_economy
			}
			add_to_variable = {
				var = budget
				value = 411
			}
		}
		if = {
			limit = { 
				tag = GER
				has_idea = tot_economic_mobilisation
			}
			add_to_variable = {
				var = budget
				value = 616
			}
		}
		
	}
}

#daily budget expenses
country_event = {
	id = ATOM.3
	title = ATOM.3.t
	desc = ATOM.3.desc

	is_triggered_only = yes
	hidden = yes

	trigger = {
		
	}

	immediate = {
		subtract_from_variable = {
			var = budget
			value = num_divisions
		}
		subtract_from_variable = {
			var = budget
			value = num_of_military_factories
		}
		subtract_from_variable = {
			var = budget
			value = num_of_available_civilian_factories
		}
		set_variable = {
			var = cost_of_research_slots
			value = amount_research_slots
		}
		multiply_variable = {
			var = cost_of_research_slots
			value = 25
		}
		subtract_from_variable = {
			var = budget
			value = cost_of_research_slots
		}
		subtract_from_variable = {
			var = budget
			value = num_occupied_states
		}
		if = {
			limit = { 
				has_idea = volunteer_only
			}
			subtract_from_variable = {
				var = budget
				value = 25
			}
		}
		if = {
			limit = { 
				has_idea = limited_conscription
			}
			subtract_from_variable = {
				var = budget
				value = 50
			}
		}
		if = {
			limit = { 
				has_idea = extensive_conscription
			}
			subtract_from_variable = {
				var = budget
				value = 75
			}
		}
		if = {
			limit = { 
				has_idea = extensive_conscription
			}
			subtract_from_variable = {
				var = budget
				value = 100
			}
		}
		if = {
			limit = { 
				has_idea = all_adults_serve
			}
			subtract_from_variable = {
				var = budget
				value = 125
			}
		}
		if = {
			limit = {
				forts_number_1 = yes
			}
			subtract_from_variable = {
				var = budget
				value = 10
			}
		}
	}
}

#event to loop for each months/trimestrial starting 36 here alternative for budget increase instead of monthly IGNORED FOR NOW
country_event = {
	id = ATOM.4
	title = ATOM.4.t
	desc = ATOM.4.desc

	is_triggered_only = yes
	hidden = yes

	immediate = {
		every_country = {
			country_event = { id = ATOM.5 days = 90 }
		}
		FRA = {
			set_variable = {
				var = budget
				value = 146
			}
		}
		GER = {
			set_variable = {
				var = budget
				value = 246
			}
		}
	}
}

#next event in the loop 1 january 1936 + 90 days
country_event = {
	id = ATOM.5
	title = ATOM.5.t
	desc = ATOM.5.desc

	is_triggered_only = yes
	hidden = yes

	immediate = {
		every_country = {
			country_event = { id = ATOM.6 days = 90 }
		}
		FRA = {
			set_variable = {
				var = budget
				value = 146
			}
		}
		GER = {
			set_variable = {
				var = budget
				value = 246
			}
		}
	}
}

#Event for bad things happening when no more budget

# Event to add some value to the budget according to certain conditions others than the economic laws
country_event = {
	id = ATOM.6
	title = ATOM.6.t
	desc = ATOM.6.desc

	is_triggered_only = yes
	hidden = yes

	immediate = {
		if = {
			limit = {
				any_country = {
					OR = {
						#has_idea = whatever_the_fuck_idea_you_want
						#has_country_flag = flag_example_from_somewhere_else
					}
				}
			}
			add_to_variable = {
				var = budget
				value = 1000
			}
		}
	}
}